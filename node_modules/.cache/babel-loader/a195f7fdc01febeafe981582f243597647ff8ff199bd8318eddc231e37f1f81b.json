{"ast":null,"code":"// src/App.js\nimport React,{useState,useEffect}from'react';import WidgetButton from'./components/widgetButton.js';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const WHITELISTED_USER_IDS=['410954739547766795','780451451100200971','824443775928762368'];const App=()=>{const[message,setMessage]=useState('');const[chatHistory,setChatHistory]=useState([]);const[clientId,setClientId]=useState(null);const[accessToken,setAccessToken]=useState(localStorage.getItem('accessToken'));const[discordId,setDiscordId]=useState(localStorage.getItem('discordId'));useEffect(()=>{handleCallback();if(!clientId){fetchConfig();}},[]);const fetchConfig=async()=>{try{const response=await fetch('/config');const data=await response.json();setClientId(data.clientId);console.log('Fetched config:',data);}catch(error){console.error('Error fetching config:',error);}};const loginWithDiscord=()=>{if(!clientId){fetchConfig().then(()=>{redirectToDiscord();});}else{redirectToDiscord();}};const redirectToDiscord=()=>{const redirectUri=encodeURIComponent('https://fancy-pond-7060.iagon.io');const scope=encodeURIComponent('identify applications.entitlements');const responseType='code';const authUrl=\"https://discord.com/oauth2/authorize?client_id=\".concat(clientId,\"&redirect_uri=\").concat(redirectUri,\"&response_type=\").concat(responseType,\"&scope=\").concat(scope);console.log('Redirecting to Discord auth URL:',authUrl);window.location.href=authUrl;};const handleCallback=async()=>{const urlParams=new URLSearchParams(window.location.search);const code=urlParams.get('code');if(code){console.log('Authorization Code:',code);const tokenResponse=await fetch('/discord/token',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({code})});const tokenData=await tokenResponse.json();console.log('Token Data:',tokenData);const token=tokenData.access_token;localStorage.setItem('accessToken',token);setAccessToken(token);const userResponse=await fetch('https://discord.com/api/users/@me',{headers:{'Authorization':\"Bearer \".concat(token)}});const userData=await userResponse.json();console.log('User Data:',userData);if(WHITELISTED_USER_IDS.includes(userData.id)){setDiscordId(userData.id);localStorage.setItem('discordId',userData.id);console.log(\"User \".concat(userData.id,\" is whitelisted.\"));}else{const entitlementsResponse=await fetch(\"/discord/entitlements?accessToken=\".concat(token));const entitlements=await entitlementsResponse.json();console.log('Entitlements:',entitlements);if(entitlements.some(entitlement=>!entitlement.deleted&&(!entitlement.ends_at||new Date(entitlement.ends_at)>new Date()))){setDiscordId(entitlements[0].user_id);localStorage.setItem('discordId',entitlements[0].user_id);console.log('Saved discordId to localStorage:',entitlements[0].user_id);}else{alert('This command requires a premium subscription! Upgrade now to get access to these features!');window.location.href='https://discord.com/application-directory/1254680166664507413/store';}}}};const sendMessage=async()=>{try{const chatBox=document.getElementById('chat-box');chatBox.innerHTML+=\"<div class=\\\"chat-message user\\\">\".concat(message,\"</div>\");document.getElementById('message').value='';document.getElementById('message').focus();console.log('Message field cleared and focused.');const typingIndicator=document.createElement('div');typingIndicator.className='chat-message bot';typingIndicator.textContent='Thinking...';typingIndicator.id='typingIndicator';chatBox.appendChild(typingIndicator);chatBox.scrollTop=chatBox.scrollHeight;console.log('Added typing indicator.');const response=await fetch('/process-markdown',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({markdownText:message})});const data=await response.json();setChatHistory([...chatHistory,{sender:'user',text:message},{sender:'bot',text:data.htmlContent}]);setMessage('');if(typingIndicator&&typingIndicator.parentNode===chatBox){chatBox.removeChild(typingIndicator);console.log('Removed typing indicator.');}chatBox.innerHTML+=\"<div class=\\\"chat-message bot\\\">\".concat(data.htmlContent,\"</div>\");chatBox.scrollTop=chatBox.scrollHeight;await fetch('/save-chat',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({discordId,chatHistory:chatBox.innerHTML})});console.log('Chat history saved for discordId:',discordId);}catch(error){console.error('Failed to send message:',error);}};const loadPreviousChat=async fileId=>{try{const response=await fetch(\"/load-chat?fileId=\".concat(fileId));const chatHistory=await response.json();setChatHistory(chatHistory);}catch(error){console.error('Failed to load previous chat:',error);}};const getCurrentEpochDetails=async()=>{try{const response=await fetch('/get-current-epoch-details');const data=await response.json();console.log('Current Epoch Details:',data);}catch(error){console.error('Failed to fetch current epoch details:',error);}};const getMarketPrice=async currency=>{try{const response=await fetch(\"/get-market-price?currency=\".concat(currency));const data=await response.json();console.log(\"\".concat(currency,\" Price:\"),data.price);}catch(error){console.error(\"Failed to fetch \".concat(currency,\" price:\"),error);}};const confirmClearChat=()=>{if(window.confirm(\"Are you sure you want to clear the chat? This action cannot be undone and you will not be able to continue the conversation from the previous thread.\")){clearChat();}};const clearChat=()=>{const chatBox=document.getElementById('chat-box');chatBox.innerHTML='';localStorage.removeItem('threadId');// Clear the threadId from local storage\nconsole.log('Chat cleared.');};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"img\",{id:\"logo\",src:\"https://i.ibb.co/rsvpknc/FPS-Logo-Color-only.png\",alt:\"Your Logo\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"cDPT\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"The Only AI Assistant You Will Ever Need For Cardano\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"button\",id:\"login-button\",onClick:loginWithDiscord,children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://i.ibb.co/89Qrp66/discord-mark-white.png\",alt:\"Discord Logo\",width:\"20\",height:\"20\"}),\"Login with Discord\"]}),/*#__PURE__*/_jsxs(\"div\",{id:\"chat-container\",className:\"hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"chat-box\",id:\"chat-box\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"message\",children:\"Message\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"message\",placeholder:\"Enter your message here...\",value:message,onChange:e=>setMessage(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-group\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:confirmClearChat,children:\"Clear Chat\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:sendMessage,children:\"Send Message\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:()=>loadPreviousChat('669286a6143a8475482c3e05'),children:\"Load Previous Chat\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:getCurrentEpochDetails,children:\"Get Current Epoch Details\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:()=>getMarketPrice('ADA'),children:\"ADA/IAG Price\"})]})]}),/*#__PURE__*/_jsx(WidgetButton,{})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","WidgetButton","jsx","_jsx","jsxs","_jsxs","WHITELISTED_USER_IDS","App","message","setMessage","chatHistory","setChatHistory","clientId","setClientId","accessToken","setAccessToken","localStorage","getItem","discordId","setDiscordId","handleCallback","fetchConfig","response","fetch","data","json","console","log","error","loginWithDiscord","then","redirectToDiscord","redirectUri","encodeURIComponent","scope","responseType","authUrl","concat","window","location","href","urlParams","URLSearchParams","search","code","get","tokenResponse","method","headers","body","JSON","stringify","tokenData","token","access_token","setItem","userResponse","userData","includes","id","entitlementsResponse","entitlements","some","entitlement","deleted","ends_at","Date","user_id","alert","sendMessage","chatBox","document","getElementById","innerHTML","value","focus","typingIndicator","createElement","className","textContent","appendChild","scrollTop","scrollHeight","markdownText","sender","text","htmlContent","parentNode","removeChild","loadPreviousChat","fileId","getCurrentEpochDetails","getMarketPrice","currency","price","confirmClearChat","confirm","clearChat","removeItem","children","src","alt","onClick","width","height","htmlFor","placeholder","onChange","e","target"],"sources":["D:/fluxPoint/Development/cDPT/cdpt-on-iagon/src/App.js"],"sourcesContent":["// src/App.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport WidgetButton from './components/widgetButton.js';\r\nimport './App.css';\r\n\r\nconst WHITELISTED_USER_IDS = ['410954739547766795', '780451451100200971', '824443775928762368'];\r\n\r\nconst App = () => {\r\n  const [message, setMessage] = useState('');\r\n  const [chatHistory, setChatHistory] = useState([]);\r\n  const [clientId, setClientId] = useState(null);\r\n  const [accessToken, setAccessToken] = useState(localStorage.getItem('accessToken'));\r\n  const [discordId, setDiscordId] = useState(localStorage.getItem('discordId'));\r\n\r\n  useEffect(() => {\r\n    handleCallback();\r\n    if (!clientId) {\r\n      fetchConfig();\r\n    }\r\n  }, []);\r\n\r\n  const fetchConfig = async () => {\r\n    try {\r\n      const response = await fetch('/config');\r\n      const data = await response.json();\r\n      setClientId(data.clientId);\r\n      console.log('Fetched config:', data);\r\n    } catch (error) {\r\n      console.error('Error fetching config:', error);\r\n    }\r\n  };\r\n\r\n  const loginWithDiscord = () => {\r\n    if (!clientId) {\r\n      fetchConfig().then(() => {\r\n        redirectToDiscord();\r\n      });\r\n    } else {\r\n      redirectToDiscord();\r\n    }\r\n  };\r\n\r\n  const redirectToDiscord = () => {\r\n    const redirectUri = encodeURIComponent('https://fancy-pond-7060.iagon.io');\r\n    const scope = encodeURIComponent('identify applications.entitlements');\r\n    const responseType = 'code';\r\n    const authUrl = `https://discord.com/oauth2/authorize?client_id=${clientId}&redirect_uri=${redirectUri}&response_type=${responseType}&scope=${scope}`;\r\n    console.log('Redirecting to Discord auth URL:', authUrl);\r\n    window.location.href = authUrl;\r\n  };\r\n\r\n  const handleCallback = async () => {\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const code = urlParams.get('code');\r\n    if (code) {\r\n      console.log('Authorization Code:', code);\r\n      const tokenResponse = await fetch('/discord/token', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ code }),\r\n      });\r\n      const tokenData = await tokenResponse.json();\r\n      console.log('Token Data:', tokenData);\r\n      const token = tokenData.access_token;\r\n\r\n      localStorage.setItem('accessToken', token);\r\n      setAccessToken(token);\r\n\r\n      const userResponse = await fetch('https://discord.com/api/users/@me', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n        },\r\n      });\r\n      const userData = await userResponse.json();\r\n      console.log('User Data:', userData);\r\n\r\n      if (WHITELISTED_USER_IDS.includes(userData.id)) {\r\n        setDiscordId(userData.id);\r\n        localStorage.setItem('discordId', userData.id);\r\n        console.log(`User ${userData.id} is whitelisted.`);\r\n      } else {\r\n        const entitlementsResponse = await fetch(`/discord/entitlements?accessToken=${token}`);\r\n        const entitlements = await entitlementsResponse.json();\r\n        console.log('Entitlements:', entitlements);\r\n\r\n        if (entitlements.some(entitlement => !entitlement.deleted && (!entitlement.ends_at || new Date(entitlement.ends_at) > new Date()))) {\r\n          setDiscordId(entitlements[0].user_id);\r\n          localStorage.setItem('discordId', entitlements[0].user_id);\r\n          console.log('Saved discordId to localStorage:', entitlements[0].user_id);\r\n        } else {\r\n          alert('This command requires a premium subscription! Upgrade now to get access to these features!');\r\n          window.location.href = 'https://discord.com/application-directory/1254680166664507413/store';\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const sendMessage = async () => {\r\n    try {\r\n      const chatBox = document.getElementById('chat-box');\r\n      chatBox.innerHTML += `<div class=\"chat-message user\">${message}</div>`;\r\n      document.getElementById('message').value = '';\r\n      document.getElementById('message').focus();\r\n      console.log('Message field cleared and focused.');\r\n\r\n      const typingIndicator = document.createElement('div');\r\n      typingIndicator.className = 'chat-message bot';\r\n      typingIndicator.textContent = 'Thinking...';\r\n      typingIndicator.id = 'typingIndicator';\r\n      chatBox.appendChild(typingIndicator);\r\n      chatBox.scrollTop = chatBox.scrollHeight;\r\n      console.log('Added typing indicator.');\r\n\r\n      const response = await fetch('/process-markdown', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ markdownText: message }),\r\n      });\r\n      const data = await response.json();\r\n      setChatHistory([...chatHistory, { sender: 'user', text: message }, { sender: 'bot', text: data.htmlContent }]);\r\n      setMessage('');\r\n\r\n      if (typingIndicator && typingIndicator.parentNode === chatBox) {\r\n        chatBox.removeChild(typingIndicator);\r\n        console.log('Removed typing indicator.');\r\n      }\r\n\r\n      chatBox.innerHTML += `<div class=\"chat-message bot\">${data.htmlContent}</div>`;\r\n      chatBox.scrollTop = chatBox.scrollHeight;\r\n\r\n      await fetch('/save-chat', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ discordId, chatHistory: chatBox.innerHTML }),\r\n      });\r\n      console.log('Chat history saved for discordId:', discordId);\r\n    } catch (error) {\r\n      console.error('Failed to send message:', error);\r\n    }\r\n  };\r\n\r\n  const loadPreviousChat = async (fileId) => {\r\n    try {\r\n      const response = await fetch(`/load-chat?fileId=${fileId}`);\r\n      const chatHistory = await response.json();\r\n      setChatHistory(chatHistory);\r\n    } catch (error) {\r\n      console.error('Failed to load previous chat:', error);\r\n    }\r\n  };\r\n\r\n  const getCurrentEpochDetails = async () => {\r\n    try {\r\n      const response = await fetch('/get-current-epoch-details');\r\n      const data = await response.json();\r\n      console.log('Current Epoch Details:', data);\r\n    } catch (error) {\r\n      console.error('Failed to fetch current epoch details:', error);\r\n    }\r\n  };\r\n\r\n  const getMarketPrice = async (currency) => {\r\n    try {\r\n      const response = await fetch(`/get-market-price?currency=${currency}`);\r\n      const data = await response.json();\r\n      console.log(`${currency} Price:`, data.price);\r\n    } catch (error) {\r\n      console.error(`Failed to fetch ${currency} price:`, error);\r\n    }\r\n  };\r\n\r\n  const confirmClearChat = () => {\r\n    if (window.confirm(\"Are you sure you want to clear the chat? This action cannot be undone and you will not be able to continue the conversation from the previous thread.\")) {\r\n      clearChat();\r\n    }\r\n  };\r\n\r\n  const clearChat = () => {\r\n    const chatBox = document.getElementById('chat-box');\r\n    chatBox.innerHTML = '';\r\n    localStorage.removeItem('threadId'); // Clear the threadId from local storage\r\n    console.log('Chat cleared.');\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <img id=\"logo\" src=\"https://i.ibb.co/rsvpknc/FPS-Logo-Color-only.png\" alt=\"Your Logo\" />\r\n      <h1>cDPT</h1>\r\n      <h3>The Only AI Assistant You Will Ever Need For Cardano</h3>\r\n      <button className=\"button\" id=\"login-button\" onClick={loginWithDiscord}>\r\n        <img src=\"https://i.ibb.co/89Qrp66/discord-mark-white.png\" alt=\"Discord Logo\" width=\"20\" height=\"20\" />\r\n        Login with Discord\r\n      </button>\r\n      <div id=\"chat-container\" className=\"hidden\">\r\n        <div className=\"chat-box\" id=\"chat-box\"></div>\r\n        <div className=\"input-group\">\r\n          <label htmlFor=\"message\">Message</label>\r\n          <textarea id=\"message\" placeholder=\"Enter your message here...\" value={message} onChange={(e) => setMessage(e.target.value)}></textarea>\r\n        </div>\r\n        <div className=\"button-group\">\r\n          <button className=\"button\" onClick={confirmClearChat}>Clear Chat</button>\r\n          <button className=\"button\" onClick={sendMessage}>Send Message</button>\r\n          <button className=\"button\" onClick={() => loadPreviousChat('669286a6143a8475482c3e05')}>Load Previous Chat</button>\r\n          <button className=\"button\" onClick={getCurrentEpochDetails}>Get Current Epoch Details</button>\r\n          <button className=\"button\" onClick={() => getMarketPrice('ADA')}>ADA/IAG Price</button>\r\n        </div>\r\n      </div>\r\n      <WidgetButton />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}