{"ast":null,"code":"import { Children as $, cloneElement as v, useState as E, useRef as N, useEffect as M, useCallback as O, useReducer as T } from \"react\";\nimport { r as h } from \"./index-c8f2666b.js\";\nimport { a as U } from \"./index-1c873780.js\";\nimport { b as p } from \"./index-c7156e07.js\";\nfunction I(n, t) {\n  return T((r, o) => {\n    const i = t[r][o];\n    return i !== null && i !== void 0 ? i : r;\n  }, n);\n}\nconst P = n => {\n  const {\n      present: t,\n      children: r\n    } = n,\n    o = S(t),\n    i = typeof r == \"function\" ? r({\n      present: o.isPresent\n    }) : $.only(r),\n    c = U(o.ref, i.ref);\n  return typeof r == \"function\" || o.isPresent ? /* @__PURE__ */v(i, {\n    ref: c\n  }) : null;\n};\nP.displayName = \"Presence\";\nfunction S(n) {\n  const [t, r] = E(),\n    o = N({}),\n    i = N(n),\n    c = N(\"none\"),\n    l = n ? \"mounted\" : \"unmounted\",\n    [f, a] = I(l, {\n      mounted: {\n        UNMOUNT: \"unmounted\",\n        ANIMATION_OUT: \"unmountSuspended\"\n      },\n      unmountSuspended: {\n        MOUNT: \"mounted\",\n        ANIMATION_END: \"unmounted\"\n      },\n      unmounted: {\n        MOUNT: \"mounted\"\n      }\n    });\n  return M(() => {\n    const e = d(o.current);\n    c.current = f === \"mounted\" ? e : \"none\";\n  }, [f]), p(() => {\n    const e = o.current,\n      s = i.current;\n    if (s !== n) {\n      const A = c.current,\n        m = d(e);\n      n ? a(\"MOUNT\") : m === \"none\" || (e == null ? void 0 : e.display) === \"none\" ? a(\"UNMOUNT\") : a(s && A !== m ? \"ANIMATION_OUT\" : \"UNMOUNT\"), i.current = n;\n    }\n  }, [n, a]), p(() => {\n    if (t) {\n      const e = u => {\n          const m = d(o.current).includes(u.animationName);\n          u.target === t && m && h.flushSync(() => a(\"ANIMATION_END\"));\n        },\n        s = u => {\n          u.target === t && (c.current = d(o.current));\n        };\n      return t.addEventListener(\"animationstart\", s), t.addEventListener(\"animationcancel\", e), t.addEventListener(\"animationend\", e), () => {\n        t.removeEventListener(\"animationstart\", s), t.removeEventListener(\"animationcancel\", e), t.removeEventListener(\"animationend\", e);\n      };\n    } else a(\"ANIMATION_END\");\n  }, [t, a]), {\n    isPresent: [\"mounted\", \"unmountSuspended\"].includes(f),\n    ref: O(e => {\n      e && (o.current = getComputedStyle(e)), r(e);\n    }, [])\n  };\n}\nfunction d(n) {\n  return (n == null ? void 0 : n.animationName) || \"none\";\n}\nexport { P as $ };","map":{"version":3,"names":["Children","$","cloneElement","v","useState","E","useRef","N","useEffect","M","useCallback","O","useReducer","T","r","h","a","U","b","p","I","n","t","o","i","P","present","children","S","isPresent","only","c","ref","displayName","l","f","mounted","UNMOUNT","ANIMATION_OUT","unmountSuspended","MOUNT","ANIMATION_END","unmounted","e","d","current","s","A","m","display","u","includes","animationName","target","flushSync","addEventListener","removeEventListener","getComputedStyle"],"sources":["D:/fluxPoint/Development/cDPT/cdpt-on-iagon/node_modules/@dexhunterio/swaps/lib/index-5116e957.js"],"sourcesContent":["import { Children as $, cloneElement as v, useState as E, useRef as N, useEffect as M, useCallback as O, useReducer as T } from \"react\";\nimport { r as h } from \"./index-c8f2666b.js\";\nimport { a as U } from \"./index-1c873780.js\";\nimport { b as p } from \"./index-c7156e07.js\";\nfunction I(n, t) {\n  return T((r, o) => {\n    const i = t[r][o];\n    return i ?? r;\n  }, n);\n}\nconst P = (n) => {\n  const { present: t, children: r } = n, o = S(t), i = typeof r == \"function\" ? r({\n    present: o.isPresent\n  }) : $.only(r), c = U(o.ref, i.ref);\n  return typeof r == \"function\" || o.isPresent ? /* @__PURE__ */ v(i, {\n    ref: c\n  }) : null;\n};\nP.displayName = \"Presence\";\nfunction S(n) {\n  const [t, r] = E(), o = N({}), i = N(n), c = N(\"none\"), l = n ? \"mounted\" : \"unmounted\", [f, a] = I(l, {\n    mounted: {\n      UNMOUNT: \"unmounted\",\n      ANIMATION_OUT: \"unmountSuspended\"\n    },\n    unmountSuspended: {\n      MOUNT: \"mounted\",\n      ANIMATION_END: \"unmounted\"\n    },\n    unmounted: {\n      MOUNT: \"mounted\"\n    }\n  });\n  return M(() => {\n    const e = d(o.current);\n    c.current = f === \"mounted\" ? e : \"none\";\n  }, [\n    f\n  ]), p(() => {\n    const e = o.current, s = i.current;\n    if (s !== n) {\n      const A = c.current, m = d(e);\n      n ? a(\"MOUNT\") : m === \"none\" || (e == null ? void 0 : e.display) === \"none\" ? a(\"UNMOUNT\") : a(s && A !== m ? \"ANIMATION_OUT\" : \"UNMOUNT\"), i.current = n;\n    }\n  }, [\n    n,\n    a\n  ]), p(() => {\n    if (t) {\n      const e = (u) => {\n        const m = d(o.current).includes(u.animationName);\n        u.target === t && m && h.flushSync(\n          () => a(\"ANIMATION_END\")\n        );\n      }, s = (u) => {\n        u.target === t && (c.current = d(o.current));\n      };\n      return t.addEventListener(\"animationstart\", s), t.addEventListener(\"animationcancel\", e), t.addEventListener(\"animationend\", e), () => {\n        t.removeEventListener(\"animationstart\", s), t.removeEventListener(\"animationcancel\", e), t.removeEventListener(\"animationend\", e);\n      };\n    } else\n      a(\"ANIMATION_END\");\n  }, [\n    t,\n    a\n  ]), {\n    isPresent: [\n      \"mounted\",\n      \"unmountSuspended\"\n    ].includes(f),\n    ref: O((e) => {\n      e && (o.current = getComputedStyle(e)), r(e);\n    }, [])\n  };\n}\nfunction d(n) {\n  return (n == null ? void 0 : n.animationName) || \"none\";\n}\nexport {\n  P as $\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}